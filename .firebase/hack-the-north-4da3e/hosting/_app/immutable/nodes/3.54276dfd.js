import{s as se,e as oe,v as de,j as me,o as te,d as S,g as x,n as q}from"../chunks/scheduler.446313d3.js";import{S as _e,i as he,d as z,v as pe,s as J,j as w,C as ve,g as _,c as N,k as E,l as R,A as le,m as C,n as ge,a as T,B as y,z as ye,e as ne,r as be,t as ke,b as Se,f as we,o as K,p as M,q as H,D as Ee,E as De}from"../chunks/index.c6fa1565.js";import{p as ie}from"../chunks/places.4a093ab1.js";import{f as X}from"../chunks/index.e9ee3ec2.js";import{n as U}from"../chunks/stores.c8ee4a2f.js";const ae=""+new URL("../assets/doubleDown.bbeef372.svg",import.meta.url).href,re=""+new URL("../assets/forward.717c65e2.svg",import.meta.url).href,ce=""+new URL("../assets/back.bf55d4c9.svg",import.meta.url).href;const D="C:/Users/darre/Documents/GitHub/HTN2023/src/routes/details/+page.svelte";function Y(e){let t=e[4],s,a=W(e);const i={c:function(){a.c(),s=ne()},l:function(o){a.l(o),s=ne()},m:function(o,c){a.m(o,c),T(o,s,c)},p:function(o,c){c&16&&se(t,t=o[4])?(be(),ke(a,1,1,q),Se(),a=W(o),a.c(),we(a,1),a.m(s.parentNode,s)):a.p(o,c)},d:function(o){o&&_(s),a.d(o)}};return z("SvelteRegisterBlock",{block:i,id:Y.name,type:"if",source:"(73:2) {#if $locations[currentSlide]}",ctx:e}),i}function F(e){let t,s,a,i,n=e[1][e[4]-1]+"",o;const c={c:function(){t=w("img"),a=J(),i=w("p"),o=K(n),this.h()},l:function(r){t=E(r,"IMG",{src:!0,alt:!0}),a=N(r),i=E(r,"P",{class:!0});var u=R(i);o=M(u,n),u.forEach(_),this.h()},h:function(){x(t.src,s=ce)||C(t,"src",s),C(t,"alt","back"),S(t,D,80,12,2400),C(i,"class","s-znEV2K6A1tiJ"),S(i,D,81,12,2443)},m:function(r,u){T(r,t,u),T(r,a,u),T(r,i,u),y(i,o)},p:function(r,u){u&18&&n!==(n=r[1][r[4]-1]+"")&&H(o,n)},d:function(r){r&&(_(t),_(a),_(i))}};return z("SvelteRegisterBlock",{block:c,id:F.name,type:"if",source:"(77:10) {#if times[currentSlide-1] && currentSlide !== 0}",ctx:e}),c}function ue(e){let t,s="There is not enough information about this location. Be the first to find out!";const a={c:function(){t=w("span"),t.textContent=s,this.h()},l:function(n){t=E(n,"SPAN",{class:!0,"data-svelte-h":!0}),le(t)!=="svelte-16tjo94"&&(t.textContent=s),this.h()},h:function(){C(t,"class","s-znEV2K6A1tiJ"),S(t,D,89,12,2757)},m:function(n,o){T(n,t,o)},p:q,d:function(n){n&&_(t)}};return z("SvelteRegisterBlock",{block:a,id:ue.name,type:"else",source:"(86:10) {:else}",ctx:e}),a}function fe(e){let t,s=e[2][e[4]]+"",a;const i={c:function(){t=w("span"),a=K(s),this.h()},l:function(o){t=E(o,"SPAN",{class:!0});var c=R(t);a=M(c,s),c.forEach(_),this.h()},h:function(){C(t,"class","s-znEV2K6A1tiJ"),S(t,D,87,12,2683)},m:function(o,c){T(o,t,c),y(t,a)},p:function(o,c){c&20&&s!==(s=o[2][o[4]]+"")&&H(a,s)},d:function(o){o&&_(t)}};return z("SvelteRegisterBlock",{block:i,id:fe.name,type:"if",source:'(84:10) {#if descriptions[currentSlide] && descriptions[currentSlide] !== \\"\\"}',ctx:e}),i}function Q(e){let t,s,a,i,n=e[1][e[4]]+"",o;const c={c:function(){t=w("img"),a=J(),i=w("p"),o=K(n),this.h()},l:function(r){t=E(r,"IMG",{src:!0,alt:!0}),a=N(r),i=E(r,"P",{class:!0});var u=R(i);o=M(u,n),u.forEach(_),this.h()},h:function(){x(t.src,s=re)||C(t,"src",s),C(t,"alt","forward"),S(t,D,94,12,2989),C(i,"class","s-znEV2K6A1tiJ"),S(i,D,95,12,3038)},m:function(r,u){T(r,t,u),T(r,a,u),T(r,i,u),y(i,o)},p:function(r,u){u&18&&n!==(n=r[1][r[4]]+"")&&H(o,n)},d:function(r){r&&(_(t),_(a),_(i))}};return z("SvelteRegisterBlock",{block:c,id:Q.name,type:"if",source:"(91:10) {#if times[currentSlide] && currentSlide !== $locations.length - 1}",ctx:e}),c}function W(e){let t,s,a,i,n,o=e[4]+1+"",c,f,r=e[5][e[4]]+"",u,g,O,b,P,d,V,h=e[1][e[4]-1]&&e[4]!==0&&F(e);function p(k,j){return k[2][k[4]]&&k[2][k[4]]!==""?fe:ue}let l=p(e),v=l(e),m=e[1][e[4]]&&e[4]!==e[5].length-1&&Q(e);const B={c:function(){t=w("div"),s=w("div"),h&&h.c(),a=J(),i=w("div"),n=w("h2"),c=K(o),f=K(". "),u=K(r),g=J(),v.c(),O=J(),b=w("div"),m&&m.c(),this.h()},l:function(j){t=E(j,"DIV",{class:!0});var A=R(t);s=E(A,"DIV",{});var $=R(s);h&&h.l($),$.forEach(_),a=N(A),i=E(A,"DIV",{});var L=R(i);n=E(L,"H2",{class:!0});var G=R(n);c=M(G,o),f=M(G,". "),u=M(G,r),G.forEach(_),g=N(L),v.l(L),L.forEach(_),O=N(A),b=E(A,"DIV",{});var ee=R(b);m&&m.l(ee),ee.forEach(_),A.forEach(_),this.h()},h:function(){S(s,D,78,8,2320),C(n,"class","s-znEV2K6A1tiJ"),S(n,D,85,10,2533),S(i,D,84,8,2516),S(b,D,92,8,2891),C(t,"class","card s-znEV2K6A1tiJ"),S(t,D,77,6,2190)},m:function(j,A){T(j,t,A),y(t,s),h&&h.m(s,null),y(t,a),y(t,i),y(i,n),y(n,c),y(n,f),y(n,u),y(i,g),v.m(i,null),y(t,O),y(t,b),m&&m.m(b,null),V=!0},p:function(j,A){e=j,e[1][e[4]-1]&&e[4]!==0?h?h.p(e,A):(h=F(e),h.c(),h.m(s,null)):h&&(h.d(1),h=null),(!V||A&16)&&o!==(o=e[4]+1+"")&&H(c,o),(!V||A&48)&&r!==(r=e[5][e[4]]+"")&&H(u,r),l===(l=p(e))&&v?v.p(e,A):(v.d(1),v=l(e),v&&(v.c(),v.m(i,null))),e[1][e[4]]&&e[4]!==e[5].length-1?m?m.p(e,A):(m=Q(e),m.c(),m.m(b,null)):m&&(m.d(1),m=null)},i:function(j){V||(j&&oe(()=>{V&&(d&&d.end(1),P=Ee(t,X,{x:e[3],duration:1e3}),P.start())}),V=!0)},o:function(j){P&&P.invalidate(),j&&(d=De(t,X,{x:-e[3],duration:1e3})),V=!1},d:function(j){j&&_(t),h&&h.d(),v.d(),m&&m.d(),j&&d&&d.end()}};return z("SvelteRegisterBlock",{block:B,id:W.name,type:"key",source:"(74:4) {#key currentSlide}",ctx:e}),B}function Z(e){let t=!1,s=()=>{t=!1},a,i,n,o,c,f,r="Scroll Down to View More",u,g,O,b,P;oe(e[8]);let d=e[5][e[4]]&&Y(e);const V={c:function(){i=J(),n=w("main"),d&&d.c(),o=J(),c=w("section"),f=w("span"),f.textContent=r,u=J(),g=w("img"),this.h()},l:function(p){ve("svelte-1qbe9po",document.head).forEach(_),i=N(p),n=E(p,"MAIN",{class:!0});var v=R(n);d&&d.l(v),v.forEach(_),o=N(p),c=E(p,"SECTION",{class:!0});var m=R(c);f=E(m,"SPAN",{"data-svelte-h":!0}),le(f)!=="svelte-e1m2pc"&&(f.textContent=r),u=N(m),g=E(m,"IMG",{src:!0,alt:!0}),m.forEach(_),this.h()},h:function(){document.title="Travel Plan Details",C(n,"class","s-znEV2K6A1tiJ"),ge(n,"margin-bottom",e[7]+I-1+"px"),S(n,D,74,0,2059),S(f,D,103,2,3158),x(g.src,O=ae)||C(g,"src",O),C(g,"alt","arrow"),S(g,D,104,2,3199),C(c,"class","s-znEV2K6A1tiJ"),S(c,D,102,0,3145)},m:function(p,l){T(p,i,l),T(p,n,l),d&&d.m(n,null),T(p,o,l),T(p,c,l),y(c,f),y(c,u),y(c,g),b||(P=ye(window,"scroll",()=>{t=!0,clearTimeout(a),a=setTimeout(s,100),e[8]()}),b=!0)},p:function(p,[l]){l&1&&!t&&(t=!0,clearTimeout(a),scrollTo(window.pageXOffset,p[0]),a=setTimeout(s,100)),p[5][p[4]]?d?d.p(p,l):(d=Y(p),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},i:q,o:q,d:function(p){p&&(_(i),_(n),_(o),_(c)),d&&d.d(),b=!1,P()}};return z("SvelteRegisterBlock",{block:V,id:Z.name,type:"component",source:"",ctx:e}),V}const I=500;function Ae(e,t,s){let a,i,n,{$$slots:o={},$$scope:c}=t;pe("Page",o,[]);const f=ie();de(f,"locations"),me(e,f,l=>s(5,n=l));let r=0,u=[],g=[],O=[],b=(n.length-1)*I;te(async()=>{U&&P(),U&&await d()});function P(){for(let l of n)V(l)}async function d(){u=[],s(1,g=[]);for(let l=0;l<n.length-1;l++){let v=n[l],m=n[l+1],B=await fetch("/distime",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:v,nextLocation:m})}).then(k=>k.json()).catch(k=>{});B.data.distance!=null&&(u[n.indexOf(v)]=B.data.distance),B.data.duration!=null&&s(1,g[n.indexOf(v)]=B.data.duration,g)}}const V=async l=>{const v=await fetch("/nearby",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:l.toLowerCase().trim(),type:"description"})}).then(m=>m.json());s(2,O[n.indexOf(l)]=v.data[0],O)},h=[];Object.keys(t).forEach(l=>{!~h.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Page> was created with unknown prop '${l}'`)});function p(){s(0,r=window.pageYOffset)}return e.$capture_state=()=>({places:ie,onMount:te,fly:X,navigating:U,doubleDown:ae,forward:re,back:ce,locations:f,scrollValue:I,y:r,distances:u,times:g,descriptions:O,pageHeight:b,generateLocations:P,calculateDistancesAndTimes:d,handleGenerate:V,transitionDirection:i,currentSlide:a,$locations:n}),e.$inject_state=l=>{"y"in l&&s(0,r=l.y),"distances"in l&&(u=l.distances),"times"in l&&s(1,g=l.times),"descriptions"in l&&s(2,O=l.descriptions),"pageHeight"in l&&s(7,b=l.pageHeight),"transitionDirection"in l&&s(3,i=l.transitionDirection),"currentSlide"in l&&s(4,a=l.currentSlide)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&1&&s(4,a=Math.floor(r/I)),e.$$.dirty&1&&s(3,i=r%I>I/2?-700:700)},[r,g,O,i,a,n,f,b,p]}class Pe extends _e{constructor(t){super(t),he(this,t,Ae,Z,se,{}),z("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:Z.name})}}export{Pe as component};
